{% verbatim %}
<div class="row">
    <div class="col mt-3">
        <h3>Информация из НСИ</h3>
        <p>Просмотр и импорт данных из систем НСИ</p>
    </div>
</div>
<div class="row">
    <div class="col">
        <button class="btn btn-primary" id="" ng-click="importData()" ng-disabled="importIsPending">
            <span ng-if="importIsPending"><span class="spinner-border spinner-border-sm" role="status"
                    aria-hidden="true"></span> Выполняется импорт</span>
            <span ng-if="!importIsPending">Импортировать данные</span>
        </button>
        <div class="form-text" ng-if="importIsPending && pendingMessage">{{pendingMessage}}</div>
    </div>
</div>

<div class="row">
    <div class="col mt-3">
        <h4>Таблица " Сотрудники"</h4>
        <table class="table table-striped table-bordered table-hover table-sm" id="resultTable">
            <thead>
                <tr>
                    <th>Табельный номер</th>
                    <th>ФИО</th>
                    <th>Дата трудоустройства</th>
                    <th>Дата увольнения</th>
                    <th>Основное место работы</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-repeat="e in employees" class="clickable" ng-click="showEmployee(e)">
                    <td>{{e.employee_number}}</td>
                    <td>{{e.full_name}}</td>
                    <td>{{e.employment_date | date:'dd.MM.yy' }}</td>
                    <td>{{e.dismissal_date}}</td>
                    <td>
                        <i class="bi bi-check-circle-fill" ng-if="e.is_primary_workplace"></i>
                    </td>
                </tr>
                <tr>
                    <td colspan="5" ng-if="!employees.length">Записи отсутствуют</td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<div class="modal fade" id="modal_{{ $id }}" tabindex="-1" aria-labelledby="modal_label_{{ $id }}" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="modal_label_{{ $id }}">Просмотр информации о сотруднике</h5>
                <button type="button" class="btn-close" ng-click="closeModal()"></button>
            </div>
            <div class="modal-body">
                <dl class="row">
                    <dt class="col-sm-3">Идентификатор НСИ</dt>
                    <dd class="col-sm-9">{{employeeToShow.nsi_id}}</dd>
                    <dt class="col-sm-3">Табельный номер</dt>
                    <dd class="col-sm-9">{{employeeToShow.employee_number}}</dd>
                    <dt class="col-sm-3">ФИО</dt>
                    <dd class="col-sm-9">{{employeeToShow.full_name}}</dd>
                    <dt class="col-sm-3">Дата трудоустройства</dt>
                    <dd class="col-sm-9">{{employeeToShow.employment_date | date:'dd.MM.yy'}}</dd>
                    <dt class="col-sm-3">Дата увольнения</dt>
                    <dd class="col-sm-9">{{employeeToShow.dismissal_date | date:'dd.MM.yy'}}</dd>
                    <dt class="col-sm-3">Код</dt>
                    <dd class="col-sm-9">{{employeeToShow.code}}</dd>
                    <dt class="col-sm-3">Основное место работы</dt>
                    <dd class="col-sm-9">
                        <span ng-if="employeeToShow.is_primary_workplace">Да</span>
                        <span ng-if="!employeeToShow.is_primary_workplace">Нет</span>
                    </dd>
                </dl>
                <h4>Информация о физическом лице</h4>
                <dl class="row">
                    <dt class="col-sm-3">Идентификатор НСИ</dt>
                    <dd class="col-sm-9">{{employeeToShow.individual.nsi_id}}</dd>
                    <dt class="col-sm-3">Имя</dt>
                    <dd class="col-sm-9">{{employeeToShow.individual.name}}</dd>
                    <dt class="col-sm-3">Фамилия</dt>
                    <dd class="col-sm-9">{{employeeToShow.individual.surname}}</dd>
                    <dt class="col-sm-3">Отчество</dt>
                    <dd class="col-sm-9">{{employeeToShow.individual.patronymic}}</dd>
                    <dt class="col-sm-3">Дата рождения</dt>
                    <dd class="col-sm-9">{{employeeToShow.individual.birth_date| date:'dd.MM.yy'}}</dd>
                    <dt class="col-sm-3">ИНН</dt>
                    <dd class="col-sm-9">{{employeeToShow.individual.inn}}</dd>
                    <dt class="col-sm-3">СНИЛС</dt>
                    <dd class="col-sm-9">{{employeeToShow.individual.snils}}</dd>
                    <dt class="col-sm-3">Код</dt>
                    <dd class="col-sm-9">{{employeeToShow.individual.code}}</dd>
                </dl>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-outline-secondary" ng-click="closeModal()">Закрыть</button>
            </div>
        </div>
    </div>
</div>
{% endverbatim %}